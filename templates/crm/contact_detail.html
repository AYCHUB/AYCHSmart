{% extends "core/pydici.html" %}

{% load i18n %}

{% block title %}{% trans "Contact detail" %} {{ contact }}{% endblock %}

{% block extrajs %}

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://cpettitt.github.io/project/dagre-d3/v0.2.9/dagre-d3.min.js"></script>


{% endblock %}

{% block content %}

<div class="row">
    <div class="col-md-6">
        <table class="table table-hover table-striped">
        <tr><th><span class="glyphicon glyphicon-user"></span> {% trans "name" %}</th><td>{{ contact.name }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-earphone"></span> {% trans "phone" %}</th><td>{{ contact.phone }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-phone"></span> {% trans "mobile phone" %}</th><td>{{ contact.mobile_phone }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-print"></span> {% trans "fax" %}</th><td>{{ contact.fax }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-envelope"></span> {% trans "email" %}</th><td>{{ contact.email|urlize }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-briefcase"></span> {% trans "function" %}</th><td>{{ contact.function }}</td></tr>
        <tr><th><span class="glyphicon glyphicon-home"></span> {% trans "companies" %}</th><td>{{ contact.companies }}</td></tr>
        </table>
    </div>
    <div class="col-md-6">
        <!-- placeholder for photo -->
    </div>
</div>


    <a role="button" class="btn btn-default" href="{% url 'contact_update' contact.id %}">{% trans "edit" %}</a>
    <a role="button" class="btn btn-danger" style="color:#FFFFFF" href="{% url 'contact_delete' contact.id %}">{% trans "delete" %}</a>


<svg width=650 height=680>
    <g transform="translate(20,20)"/>
</svg>



<script type="text/javascript">
<!--
$(document).ready(function() {
    console.log("go");
    
  
    {{ contact.relationData|safe }}
    
    var g = dagreD3.json.decode(nodes, edges);
    
    var renderer = new dagreD3.Renderer();
    renderer.run(g, d3.select("svg g"));
 
});
-->
</script>


{% endblock %}